import{j as e}from"./jsx-runtime.TBa3i5EZ.js";import{r as n}from"./index.CVf8TyFT.js";import{F as y}from"./PaperAirplaneIcon.BdgDbSKo.js";function w({title:r,titleId:t,...d},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},d),r?n.createElement("title",{id:t},r):null,n.createElement("path",{fillRule:"evenodd",d:"M4.755 10.059a7.5 7.5 0 0 1 12.548-3.364l1.903 1.903h-3.183a.75.75 0 1 0 0 1.5h4.992a.75.75 0 0 0 .75-.75V4.356a.75.75 0 0 0-1.5 0v3.18l-1.9-1.9A9 9 0 0 0 3.306 9.67a.75.75 0 1 0 1.45.388Zm15.408 3.352a.75.75 0 0 0-.919.53 7.5 7.5 0 0 1-12.548 3.364l-1.902-1.903h3.183a.75.75 0 0 0 0-1.5H2.984a.75.75 0 0 0-.75.75v4.992a.75.75 0 0 0 1.5 0v-3.18l1.9 1.9a9 9 0 0 0 15.059-4.035.75.75 0 0 0-.53-.918Z",clipRule:"evenodd"}))}const j=n.forwardRef(w);function S(){const r=n.useId(),[t,d]=n.useState({name:"",email:"",phone:"",message:"",consent:!1}),[s,c]=n.useState({}),[h,g]=n.useState(!1),[v,u]=n.useState("idle"),o=(a,m)=>{d(l=>({...l,[a]:m})),c(l=>{const i={...l};return delete i[a],i})},p=()=>!(!t.name.trim()||!t.email.trim()||!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.email)||!t.phone.trim()||!/^\d{10,11}$/.test(t.phone.replace(/\D/g,""))||!t.message.trim()||!t.consent),x=()=>{const a={};return t.name.trim()||(a.name="Name is required"),(!t.email.trim()||!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.email))&&(a.email="Valid email is required"),(!t.phone.trim()||!/^\d{10,11}$/.test(t.phone.replace(/\D/g,"")))&&(a.phone="Valid 10-digit phone number is required"),t.message.trim()||(a.message="Message is required"),t.consent||(a.consent="You must agree to the privacy policy"),c(a),Object.keys(a).length===0},f=async a=>{if(a.preventDefault(),!!x()){g(!0),u("idle");try{let m="";try{typeof window<"u"&&window.grecaptcha&&(m=await window.grecaptcha.execute("6LdFn6krAAAAAJXaiq0hr8p3fTd4L9RQr5p0giwR",{action:"contact"}))}catch(b){console.warn("reCAPTCHA failed:",b)}const l=await fetch("/api/contact.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...t,recaptchaToken:m})}),i=await l.json();l.ok?(u("success"),i.token?window.location.href=`/thank-you?token=${i.token}`:d({name:"",email:"",phone:"",message:"",consent:!1})):(u("error"),c({submit:i.message||"Something went wrong. Please try again."}))}catch{u("error"),c({submit:"Network error. Please try again."})}finally{g(!1)}}};return e.jsxs("form",{onSubmit:f,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:`${r}-name`,className:"block text-sm font-medium text-dark-700 mb-1",children:"Full Name"}),e.jsx("input",{type:"text",id:`${r}-name`,name:"name",value:t.name,onChange:a=>o("name",a.target.value),className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-gold-400 outline-none transition-all ${s.name?"border-red-500":"border-gray-300"}`,placeholder:"John Doe",autoComplete:"name"}),s.name&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:s.name})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:`${r}-email`,className:"block text-sm font-medium text-dark-700 mb-1",children:"Email Address"}),e.jsx("input",{type:"email",id:`${r}-email`,name:"email",value:t.email,onChange:a=>o("email",a.target.value),className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-gold-400 outline-none transition-all ${s.email?"border-red-500":"border-gray-300"}`,placeholder:"john@example.com",autoComplete:"email"}),s.email&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:s.email})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:`${r}-phone`,className:"block text-sm font-medium text-dark-700 mb-1",children:"Phone Number"}),e.jsx("input",{type:"tel",id:`${r}-phone`,name:"phone",value:t.phone,onChange:a=>o("phone",a.target.value),className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-gold-400 outline-none transition-all ${s.phone?"border-red-500":"border-gray-300"}`,placeholder:"(555) 123-4567",autoComplete:"tel"}),s.phone&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:s.phone})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:`${r}-message`,className:"block text-sm font-medium text-dark-700 mb-1",children:"Message"}),e.jsx("textarea",{id:`${r}-message`,name:"message",rows:4,value:t.message,onChange:a=>o("message",a.target.value),className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-gold-400 outline-none transition-all ${s.message?"border-red-500":"border-gray-300"}`,placeholder:"How can we help you?"}),s.message&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:s.message})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:`${r}-consent`,name:"consent",checked:t.consent,onChange:a=>o("consent",a.target.checked),className:"mt-1 w-4 h-4 text-gold-500 border-gray-300 rounded focus:ring-gold-400"}),e.jsxs("label",{htmlFor:`${r}-consent`,className:"ml-2 text-sm text-gray-600",children:["I agree to the ",e.jsx("a",{href:"/privacy-policy",className:"text-gold-600 hover:underline",children:"Privacy Policy"})," and consent to being contacted."]})]}),s.consent&&e.jsx("p",{className:"text-red-500 text-xs ml-6",children:s.consent}),e.jsx("div",{className:"opacity-0 absolute top-0 left-0 h-0 w-0 overflow-hidden z-[-1]",children:e.jsx("input",{type:"text",name:"fax",tabIndex:-1,autoComplete:"off",value:t.fax||"",onChange:a=>o("fax",a.target.value)})}),s.submit&&e.jsx("div",{className:"bg-red-50 text-red-600 p-3 rounded-lg text-sm",children:s.submit}),e.jsx("button",{type:"submit",disabled:h,className:`w-full flex items-center justify-center px-6 py-3 border border-transparent text-base font-medium rounded-lg text-dark-900 bg-gold-500 hover:bg-gold-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gold-500 transition-all ${h||!p()?"opacity-75 cursor-not-allowed":""}`,children:h?e.jsxs(e.Fragment,{children:[e.jsx(j,{className:"w-5 h-5 mr-2 animate-spin"}),"Sending..."]}):e.jsxs(e.Fragment,{children:[e.jsx(y,{className:"w-5 h-5 mr-2"}),"Send Message"]})})]})}export{S as default};

import{j as e}from"./jsx-runtime.TBa3i5EZ.js";import{r as n}from"./index.CVf8TyFT.js";function b({title:s,titleId:a,...o},r){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":a},o),s?n.createElement("title",{id:a},s):null,n.createElement("path",{fillRule:"evenodd",d:"M4.755 10.059a7.5 7.5 0 0 1 12.548-3.364l1.903 1.903h-3.183a.75.75 0 1 0 0 1.5h4.992a.75.75 0 0 0 .75-.75V4.356a.75.75 0 0 0-1.5 0v3.18l-1.9-1.9A9 9 0 0 0 3.306 9.67a.75.75 0 1 0 1.45.388Zm15.408 3.352a.75.75 0 0 0-.919.53 7.5 7.5 0 0 1-12.548 3.364l-1.902-1.903h3.183a.75.75 0 0 0 0-1.5H2.984a.75.75 0 0 0-.75.75v4.992a.75.75 0 0 0 1.5 0v-3.18l1.9 1.9a9 9 0 0 0 15.059-4.035.75.75 0 0 0-.53-.918Z",clipRule:"evenodd"}))}const w=n.forwardRef(b);function y({title:s,titleId:a,...o},r){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":a},o),s?n.createElement("title",{id:a},s):null,n.createElement("path",{d:"M3.478 2.404a.75.75 0 0 0-.926.941l2.432 7.905H13.5a.75.75 0 0 1 0 1.5H4.984l-2.432 7.905a.75.75 0 0 0 .926.94 60.519 60.519 0 0 0 18.445-8.986.75.75 0 0 0 0-1.218A60.517 60.517 0 0 0 3.478 2.404Z"}))}const j=n.forwardRef(y);function $(){const s=n.useId(),[a,o]=n.useState({name:"",email:"",phone:"",message:"",consent:!1}),[r,m]=n.useState({}),[g,h]=n.useState(!1),[v,u]=n.useState("idle"),l=(t,c)=>{o(i=>({...i,[t]:c})),m(i=>{const d={...i};return delete d[t],d})},x=()=>{const t={};return a.name.trim()||(t.name="Name is required"),(!a.email.trim()||!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a.email))&&(t.email="Valid email is required"),(!a.phone.trim()||!/^\d{10,11}$/.test(a.phone.replace(/\D/g,"")))&&(t.phone="Valid 10-digit phone number is required"),a.message.trim()||(t.message="Message is required"),a.consent||(t.consent="You must agree to the privacy policy"),m(t),Object.keys(t).length===0},p=async t=>{if(t.preventDefault(),!!x()){h(!0),u("idle");try{let c="";try{typeof window<"u"&&window.grecaptcha&&(c=await window.grecaptcha.execute("6LdFn6krAAAAAJXaiq0hr8p3fTd4L9RQr5p0giwR",{action:"contact"}))}catch(f){console.warn("reCAPTCHA failed:",f)}const i=await fetch("/api/contact",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...a,recaptchaToken:c})}),d=await i.json();i.ok?(u("success"),d.token?window.location.href=`/thank-you?token=${d.token}`:o({name:"",email:"",phone:"",message:"",consent:!1})):(u("error"),m({submit:d.message||"Something went wrong. Please try again."}))}catch{u("error"),m({submit:"Network error. Please try again."})}finally{h(!1)}}};return e.jsxs("form",{onSubmit:p,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:`${s}-name`,className:"block text-sm font-medium text-dark-700 mb-1",children:"Full Name"}),e.jsx("input",{type:"text",id:`${s}-name`,value:a.name,onChange:t=>l("name",t.target.value),className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-gold-400 outline-none transition-all ${r.name?"border-red-500":"border-gray-300"}`,placeholder:"John Doe"}),r.name&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:r.name})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:`${s}-email`,className:"block text-sm font-medium text-dark-700 mb-1",children:"Email Address"}),e.jsx("input",{type:"email",id:`${s}-email`,value:a.email,onChange:t=>l("email",t.target.value),className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-gold-400 outline-none transition-all ${r.email?"border-red-500":"border-gray-300"}`,placeholder:"john@example.com"}),r.email&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:r.email})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:`${s}-phone`,className:"block text-sm font-medium text-dark-700 mb-1",children:"Phone Number"}),e.jsx("input",{type:"tel",id:`${s}-phone`,value:a.phone,onChange:t=>l("phone",t.target.value),className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-gold-400 outline-none transition-all ${r.phone?"border-red-500":"border-gray-300"}`,placeholder:"(555) 123-4567"}),r.phone&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:r.phone})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:`${s}-message`,className:"block text-sm font-medium text-dark-700 mb-1",children:"Message"}),e.jsx("textarea",{id:`${s}-message`,rows:4,value:a.message,onChange:t=>l("message",t.target.value),className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-gold-400 outline-none transition-all ${r.message?"border-red-500":"border-gray-300"}`,placeholder:"How can we help you?"}),r.message&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:r.message})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:`${s}-consent`,checked:a.consent,onChange:t=>l("consent",t.target.checked),className:"mt-1 w-4 h-4 text-gold-500 border-gray-300 rounded focus:ring-gold-400"}),e.jsxs("label",{htmlFor:`${s}-consent`,className:"ml-2 text-sm text-gray-600",children:["I agree to the ",e.jsx("a",{href:"/privacy-policy",className:"text-gold-600 hover:underline",children:"Privacy Policy"})," and consent to being contacted."]})]}),r.consent&&e.jsx("p",{className:"text-red-500 text-xs ml-6",children:r.consent}),e.jsx("div",{className:"opacity-0 absolute top-0 left-0 h-0 w-0 overflow-hidden z-[-1]",children:e.jsx("input",{type:"text",name:"fax",tabIndex:-1,autoComplete:"off",value:a.fax||"",onChange:t=>l("fax",t.target.value)})}),r.submit&&e.jsx("div",{className:"bg-red-50 text-red-600 p-3 rounded-lg text-sm",children:r.submit}),e.jsx("button",{type:"submit",disabled:g,className:`w-full flex items-center justify-center px-6 py-3 border border-transparent text-base font-medium rounded-lg text-dark-900 bg-gold-500 hover:bg-gold-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gold-500 transition-all ${g?"opacity-75 cursor-not-allowed":""}`,children:g?e.jsxs(e.Fragment,{children:[e.jsx(w,{className:"w-5 h-5 mr-2 animate-spin"}),"Sending..."]}):e.jsxs(e.Fragment,{children:[e.jsx(j,{className:"w-5 h-5 mr-2"}),"Send Message"]})})]})}export{$ as default};

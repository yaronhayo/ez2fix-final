---
import BaseLayout from "@layouts/BaseLayout.astro";
import Header from "@components/layout/Header.astro";
import Footer from "@components/layout/Footer.astro";
import Button from "@components/ui/Button.astro";

import GoogleMap from "@components/ui/GoogleMap.astro";
import HomeHero from "@components/sections/HomeHero.astro";
import ServicesGrid from "@components/sections/ServicesGrid.astro";
import ReviewsCarousel from "@components/sections/ReviewsCarousel.astro";
import BookingForm from "@components/BookingForm.tsx";
import FAQSection from "@components/sections/FAQSection.astro";

import { services } from "@data/services";
import { siteConfig } from "@config/site.config";
import { generateBreadcrumbSchema } from "@utils/schema";
import IntroSection from "@components/sections/IntroSection.astro";
import { getFAQsByPage } from "@data/faqs";

import PromotionsSection from "@components/sections/PromotionsSection.astro";
import ExpertTipsCarousel from "@components/sections/ExpertTipsCarousel.astro";
import ProcessSection from "@components/sections/ProcessSection.astro";

const breadcrumbSchema = generateBreadcrumbSchema([
	{ name: "Home", url: "https://ez2fixllc.com" },
]);

const faqs = getFAQsByPage("home");
---

<BaseLayout
	title={`Ez2Fix | ${siteConfig.company.tagline}`}
	description="Licensed garage door repair and installation in Northern New Jersey. 24/7 emergency service, same-day appointments, 10-year warranty. Serving 70+ cities. Free estimates."
	schema={[breadcrumbSchema]}
>
	<Header />

	<!-- Hero Section -->
	<HomeHero />

	<!-- Mobile Booking Form (shown only on mobile) -->
	<section
		class="lg:hidden bg-gradient-to-br from-dark-700 to-dark-600 py-12"
	>
		<div class="container mx-auto px-4">
			<div class="text-center mb-6">
				<h2 class="text-2xl font-bold text-cream-100 mb-2">
					Request Service
				</h2>
				<p class="text-cream-200 text-sm">
					Prompt response • Free estimates • No hidden fees
				</p>
			</div>
			<div class="max-w-lg mx-auto">
				<BookingForm client:visible />
			</div>
		</div>
	</section>

	<!-- Intro Section - Keyword Optimized -->
	<IntroSection />

	<!-- Services Grid Section -->
	<ServicesGrid
		title="Our Garage Door Services"
		subtitle="Expert repair, installation, and maintenance for all garage door types. Licensed technicians, same-day service, 10-year warranty."
		services={services}
		className="bg-cream-100"
		maxServices={6}
	/>
	<div class="bg-cream-100 pb-16 text-center -mt-8 relative z-10">
		<Button variant="primary" size="lg" href="/services">
			<svg class="w-5 h-5 mr-2"
				><path
					fill="none"
					stroke="currentColor"
					stroke-linecap="round"
					stroke-linejoin="round"
					stroke-width="1.5"
					d="M11.42 15.17L17.25 21A2.652 2.652 0 0 0 21 17.25l-5.877-5.877M11.42 15.17l2.496-3.03c.317-.384.74-.626 1.208-.766M11.42 15.17l-4.655 5.653a2.548 2.548 0 1 1-3.586-3.586l6.837-5.63m5.108-.233c.55-.164 1.163-.188 1.743-.14q.19.017.384.017a4.5 4.5 0 0 0 4.102-6.352l-3.276 3.276a3 3 0 0 1-2.25-2.25l3.276-3.276a4.5 4.5 0 0 0-6.336 4.486c.091 1.076-.071 2.264-.904 2.95l-.102.085m-1.745 1.437L5.909 7.5H4.5L2.25 3.75l1.5-1.5L7.5 4.5v1.409l4.26 4.26m-1.745 1.437l1.745-1.437m6.615 8.206L15.75 15.75M4.867 19.125h.008v.008h-.008z"
				></path></svg
			>
			View All Services
		</Button>
	</div>

	<!-- Trust Section -->
	<section class="section bg-white">
		<div class="container mx-auto px-4">
			<div class="text-center mb-12">
				<h2 class="text-3xl md:text-4xl font-bold text-dark-700 mb-4">
					Why {siteConfig.trustSignals.customersServed} Northern NJ Homeowners
					Choose Ez2Fix
				</h2>
			</div>

			<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
				<div class="text-center">
					<div
						class="w-16 h-16 bg-gold-100 rounded-full flex items-center justify-center mx-auto mb-4"
					>
						<svg class="w-8 h-8 text-gold-600"
							><path
								fill="none"
								stroke="currentColor"
								stroke-linecap="round"
								stroke-linejoin="round"
								stroke-width="1.5"
								d="M9 12.75L11.25 15L15 9.75m-3-7.036A11.96 11.96 0 0 1 3.598 6A12 12 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623c5.176-1.332 9-6.03 9-11.622c0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285"
							></path></svg
						>
					</div>
					<h3 class="text-xl font-bold text-dark-700 mb-2">
						Licensed & Insured
					</h3>
					<p class="text-dark-600">
						{siteConfig.contact.license}<br />Bonded & Certified
					</p>
				</div>

				<div class="text-center">
					<div
						class="w-16 h-16 bg-gold-100 rounded-full flex items-center justify-center mx-auto mb-4"
					>
						<svg class="w-8 h-8 text-gold-600"
							><path
								fill="none"
								stroke="currentColor"
								stroke-linecap="round"
								stroke-linejoin="round"
								stroke-width="1.5"
								d="M9 12.75L11.25 15L15 9.75M21 12c0 1.268-.63 2.39-1.593 3.068a3.75 3.75 0 0 1-1.043 3.296a3.75 3.75 0 0 1-3.296 1.043A3.75 3.75 0 0 1 12 21c-1.268 0-2.39-.63-3.068-1.593a3.75 3.75 0 0 1-3.296-1.043a3.75 3.75 0 0 1-1.043-3.296A3.75 3.75 0 0 1 3 12c0-1.268.63-2.39 1.593-3.068a3.75 3.75 0 0 1 1.043-3.296a3.75 3.75 0 0 1 3.296-1.043A3.75 3.75 0 0 1 12 3c1.268 0 2.39.63 3.068 1.593a3.75 3.75 0 0 1 3.296 1.043a3.75 3.75 0 0 1 1.043 3.296A3.75 3.75 0 0 1 21 12"
							></path></svg
						>
					</div>
					<h3 class="text-xl font-bold text-dark-700 mb-2">
						10-Year Warranty
					</h3>
					<p class="text-dark-600">
						On All Installations<br />Parts & Labor
					</p>
				</div>

				<div class="text-center">
					<div
						class="w-16 h-16 bg-gold-100 rounded-full flex items-center justify-center mx-auto mb-4"
					>
						<svg class="w-8 h-8 text-gold-600"
							><path
								fill="none"
								stroke="currentColor"
								stroke-linecap="round"
								stroke-linejoin="round"
								stroke-width="1.5"
								d="m3.75 13.5l10.5-11.25L12 10.5h8.25L9.75 21.75L12 13.5z"
							></path></svg
						>
					</div>
					<h3 class="text-xl font-bold text-dark-700 mb-2">
						Same-Day Available
					</h3>
					<p class="text-dark-600">
						24/7 Emergency Service<br />All Major Brands
					</p>
				</div>

				<div class="text-center">
					<div
						class="w-16 h-16 bg-gold-100 rounded-full flex items-center justify-center mx-auto mb-4"
					>
						<svg class="w-8 h-8 text-gold-600"
							><path
								fill="none"
								stroke="currentColor"
								stroke-linecap="round"
								stroke-linejoin="round"
								stroke-width="1.5"
								d="M12 6v12m-3-2.818l.879.659c1.171.879 3.07.879 4.242 0s1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659c-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0a9 9 0 0 1 18 0"
							></path></svg
						>
					</div>
					<h3 class="text-xl font-bold text-dark-700 mb-2">
						Transparent Pricing
					</h3>
					<p class="text-dark-600">
						Free On-Site Estimates<br />No Hidden Fees
					</p>
				</div>
			</div>
		</div>
	</section>

	<!-- Process Section -->
	<ProcessSection />

	<!-- Promotions Section -->
	<PromotionsSection />

	<!--Service Area Map Section -->
	<section class="section bg-cream-100">
		<div class="container mx-auto px-4">
			<div class="max-w-6xl mx-auto">
				<div class="text-center mb-12">
					<h2
						class="text-3xl md:text-4xl font-bold text-dark-700 mb-4"
					>
						Serving 70+ Cities in Northern New Jersey
					</h2>
					<p class="text-lg text-dark-600 max-w-2xl mx-auto">
						Professional <strong>garage door repair</strong> and installation
						throughout
						<strong>Bergen County</strong>, <strong
							>Essex County</strong
						>, Morris County, Hudson County, and Passaic County
						garage door service areas. Same-day service available in
						most Northern NJ communities.
					</p>
				</div>

				<div class="grid md:grid-cols-2 gap-8 items-center">
					<!-- Map -->
					<div class="order-2 md:order-1">
						<GoogleMap />
					</div>

					<!-- Service Area Details -->
					<div class="order-1 md:order-2">
						<h3 class="text-2xl font-bold text-dark-700 mb-4">
							16 Priority Cities & 70+ Communities
						</h3>
						<p class="text-dark-600 mb-6">
							We provide prompt, reliable garage door service
							throughout Northern New Jersey. Whether you're in
							Newark, Jersey City, Paterson, or any of the
							surrounding communities, we're here to help.
						</p>
						<div class="space-y-3 mb-6">
							<div class="flex items-start">
								<svg
									class="w-6 h-6 text-gold-600 mr-3 flex-shrink-0 mt-0.5"
									fill="none"
									stroke="currentColor"
									viewBox="0 0 24 24"
								>
									<path
										stroke-linecap="round"
										stroke-linejoin="round"
										stroke-width="2"
										d="M5 13l4 4L19 7"></path>
								</svg>
								<div>
									<span class="font-semibold text-dark-700"
										>Same-Day Service Available</span
									>
									<p class="text-sm text-dark-600">
										In most areas when you call before 2 PM
									</p>
								</div>
							</div>
							<div class="flex items-start">
								<svg
									class="w-6 h-6 text-gold-600 mr-3 flex-shrink-0 mt-0.5"
									fill="none"
									stroke="currentColor"
									viewBox="0 0 24 24"
								>
									<path
										stroke-linecap="round"
										stroke-linejoin="round"
										stroke-width="2"
										d="M5 13l4 4L19 7"></path>
								</svg>
								<div>
									<span class="font-semibold text-dark-700"
										>24/7 Emergency Service</span
									>
									<p class="text-sm text-dark-600">
										Available for urgent garage door repairs
									</p>
								</div>
							</div>
							<div class="flex items-start">
								<svg
									class="w-6 h-6 text-gold-600 mr-3 flex-shrink-0 mt-0.5"
									fill="none"
									stroke="currentColor"
									viewBox="0 0 24 24"
								>
									<path
										stroke-linecap="round"
										stroke-linejoin="round"
										stroke-width="2"
										d="M5 13l4 4L19 7"></path>
								</svg>
								<div>
									<span class="font-semibold text-dark-700"
										>Local & Licensed</span
									>
									<p class="text-sm text-dark-600">
										NJ License #{siteConfig.contact.license}
									</p>
								</div>
							</div>
						</div>
						<Button variant="primary" href="/service-areas">
							<svg class="w-5 h-5 mr-2"
								><g
									fill="none"
									stroke="currentColor"
									stroke-linecap="round"
									stroke-linejoin="round"
									stroke-width="1.5"
									><path
										d="M15 10.5a3 3 0 1 1-6 0a3 3 0 0 1 6 0"
									></path><path
										d="M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0"
									></path></g
								></svg
							>
							View All Service Areas
						</Button>
					</div>
				</div>
			</div>
		</div>
	</section>

	<!-- Reviews Section -->
	<ReviewsCarousel />

	<!-- Recent Guides Section -->
	<ExpertTipsCarousel />

	<!-- FAQ Section -->
	<FAQSection
		faqs={faqs}
		title="Frequently Asked Questions"
		subtitle="Get answers to common questions about our garage door services in Northern NJ"
		className="bg-cream-100"
	/>

	<!-- Final CTA Section -->
	<section
		class="section bg-gradient-to-br from-dark-700 to-dark-600 text-white"
	>
		<div class="container mx-auto px-4 text-center">
			<h2 class="text-3xl md:text-4xl font-bold mb-6 text-cream-100">
				Ready to Fix Your Garage Door?
			</h2>
			<p class="text-xl text-cream-200 mb-8 max-w-2xl mx-auto">
				{siteConfig.trustSignals.yearsInBusiness} years of expert service
				• Licensed & Insured • Same-day service available
			</p>
			<div class="flex flex-col sm:flex-row gap-4 justify-center">
				<Button
					variant="primary"
					size="lg"
					href="/booking?utm_source=website&utm_medium=cta&utm_campaign=homepage-body"
				>
					<svg class="w-5 h-5 mr-2"
						><path
							fill="none"
							stroke="currentColor"
							stroke-linecap="round"
							stroke-linejoin="round"
							stroke-width="1.5"
							d="M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"
						></path></svg
					>
					Get Free Estimate
				</Button>
				<Button
					variant="secondary"
					size="lg"
					href={`tel:${siteConfig.contact.phoneRaw}`}
				>
					<svg class="w-5 h-5 mr-2"
						><path
							fill="none"
							stroke="currentColor"
							stroke-linecap="round"
							stroke-linejoin="round"
							stroke-width="1.5"
							d="M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.04 12.04 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5z"
						></path></svg
					>
					Call {siteConfig.contact.phone}
				</Button>
			</div>
			<p class="mt-6 text-cream-200">
				✓ Licensed & Insured ✓ 10-Year Warranty ✓ Same-Day Available ✓
				No Hidden Fees
			</p>
		</div>
	</section>

	<Footer />
</BaseLayout>
